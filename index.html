<!DOCTYPE html>

<html>
	<head>
	    <title>GABRIEL BJÖRK STIERNSTRÖM</title>
		<meta charset="utf-8" />
		<link href="CSS/main.css" rel="stylesheet" />
        <link href="CSS/lightbox.css" rel="stylesheet" type="text/css" />

        <!--    Removes Windows Phone tap highlighting  -->
        <meta name="msapplication-tap-highlight" content="no" />

        <!--    Disables Zoom on mobile phones -->
        <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport' />

        <meta name="description" content="Gabriel Björk Stiernströms portfolio" />
		<meta name="keywords" content="gabriel, björk, stiernström, bjork, stiernstrom, portfolio, illustrations, images, gallery, logotype, logo, awesome, digital, artist, concept, art" />
		<meta name="author" content="Gabriel Björk Stiernström" />

		<script src="JS/jquery-1.10.2.min.js" type="text/javascript"></script>
        <!-- Cookies -->
        <script src="JS/jquery.cookie.js" type="text/javascript"></script>
	</head>
    
	<body>
    <!---Portfolio--->
        <div id="portfolio_wrapper">
        </div>
        <!-- Footer -->
        <div id="footer">
            <div id="innerFooter">
                <div id="portfolio_menu">
                    <ul class="menu">
                        <li id="imageButtonListElement" >
                            <input type="button" class="buttonPortfolio" id="homeButton" value="" alt="HTML/home.html" />
                        </li>
                        <li>
                            <input type="button" class="buttonPortfolio" id="portfolio" value="PORTFOLIO" alt="HTML/portfolio.html" />
                        </li>
                        <!--<li>
                            <input type="button" class="buttonPortfolio" id="graphicDesign" value="SKETCHES & STUDIES" alt="graphic.html" />
                        </li>
                        <li>
                            <input type="button" class="buttonPortfolio" id="photography" value="PHOTOGRAPHY" alt="photo.html" />
                        </li>-->
                        <li>
                            <input type="button" class="buttonPortfolio" id="about" value="ABOUT ME" alt="HTML/about.html" />
                        </li>
                    </ul>
                </div>
                <div id="banner">

                    <ul class="social_icons">
                        <li>
                            <a href="http://www.artstation.com/artist/GabrielBjorkStiernstrom" target="_blank">
                                <img src="FILES/IMG/ICONS/artstation_logo_icon.svg" class="icon_all" alt="ArtStation" />
                            </a>
                        </li>
                        <li>
                            <a href="http://gabriel-bs.deviantart.com/" target="_blank">
                                <img src="FILES/IMG/ICONS/deviantart_logo_icon.svg" class="icon_all" alt="deviantArt" />
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/gabriel.bjorkstiernstrom" target="_blank">
                                <img src="FILES/IMG/ICONS/facebook_logo_icon.svg" class="icon_all" alt="Facebook" />
                            </a>
                        </li>
                        <li>
                            <a href="https://plus.google.com/102783959276403180148/posts" target="_blank">
                                <img src="FILES/IMG/ICONS/google_logo_icon.svg" class="icon_all" alt="Google+" />
                            </a>
                        </li>
                        <li>
                            <a href="https://www.linkedin.com/in/gabrielbjorkstiernstrom" target="_blank">
                                <img src="FILES/IMG/ICONS/linkedin_logo_icon.svg" class="icon_all" alt="LinkedIn" />
                            </a>
                        </li>
                        <li>
                            <a href="http://www.pinterest.com/bjrkstiernstrm/boards/" target="_blank">
                                <img src="FILES/IMG/ICONS/pinterest_logo_icon.svg" class="icon_all" alt="Pinterest" />
                            </a>
                        </li>
                        <li>
                            <a href="http://gabrielbjorkstiernstrom.tumblr.com/" target="_blank">
                                <img src="FILES/IMG/ICONS/tumblr_logo_icon.svg" class="icon_all" alt="Tumblr" />
                            </a>
                        </li>
                        <li>
                            <a href="https://vimeo.com/user17328738" target="_blank">
                                <img src="FILES/IMG/ICONS/vimeo_logo_icon.svg" class="icon_all" alt="Vimeo" />
                            </a>
                        </li>
                    </ul>
                    <div id="authorInfo">
                        <h1>
                            Gabriel Björk Stiernström
                        </h1>
                        <h2>
                            Concept Artist and Illustrator
                        </h2>
                    </div>
                </div>
            </div>
        </div>

        <script src="JS/lightbox.js" type="text/javascript"></script>
        <script src="JS/CoolshowUtils.js" type="text/javascript"></script>
        <script src="JS/DynamicImage.js" type="text/javascript"></script>
        <script src="JS/hammer-time.min.js" type="text/javascript"></script>
        <script src="JS/hammer.min.js" type="text/javascript"></script>
        <!-- Slideshow -->
       	<script type="text/javascript">
            //	Load images in portfolio
            function loadImages(material){
                var promise = new Promise();
                $("#portfolio_wrapper").empty().load(material, function(){
                    promise.set(true);
                });

                return promise;
            }

            function setFooterSizeToJustFit(){
                var footer = document.getElementById("footer");
/*
                var calcHeight;
                try {
                    calcHeight = window.getComputedStyle(footer, null)
                            .getPropertyValue('height');
                } catch(e) {
                    calcHeight = document.getElementById('example').currentStyle.height;
                }
                console.log(calcHeight);
                var newHeightToAdd = window.innerHeight * 0.15 - (footer.offsetHeight - parseInt(calcHeight, 10));

                console.log(footer.offsetHeight, calcHeight);
                console.log($("#footer").css("height"));
                $("#footer").css("height", calcHeight + newHeightToAdd + "px");
                console.log($("#footer").css("height"));
                console.log("New height to add: ", newHeightToAdd);*/

                var newHeight = window.innerHeight * 0.15;
                footer.style.height = newHeight + "px";

                //var height = document.getElementById("footer").offsetHeight;
                //document.getElementById("portfolio_wrapper").style.marginBottom = height + "px";
            }

            function setSlideshowSizeToJustFit(){
                console.log("Fixed portfolio wrapper");
                newHeight = window.innerHeight * 0.85;

                document.getElementById("portfolio_wrapper").style.height = newHeight + "px";
                //document.getElementById("portfolio_wrapper").style.maxHeight = newHeight + "px";
            }

            function setFixedSlideshow(){
                document.getElementById("coolshow").style.position = "fixed";
            }

            $(document).ready(function(){
                // Loading function for Portfolio categories buttons
                $(".buttonPortfolio").click(function(){
                    loadImages($(this).attr("alt"))
                            .onSet(function(){
                                console.log("Footer click.");
                                reevaluateHeights();
                            });
                });

                function reevaluateHeights(){
                    if(document.getElementsByClassName("coolshow").length == 1) {
                        console.log("coolshow present.");
                        setSlideshowSizeToJustFit();
                        setFixedSlideshow();
                    }
                    else
                        document.getElementById("portfolio_wrapper").style.height = "auto";

                    setFooterSizeToJustFit();
                }

                window.addEventListener("resize", reevaluateHeights);
                window.addEventListener("orientationchange", reevaluateHeights);

                loadImages("HTML/home.html")
                        .onSet(function(){
                            reevaluateHeights();
                        });
            });

        </script>
        <script>
			lightbox.option({
			  'resizeDuration': 200,
			  'showImageNumberLabel': false
			})
		</script>
	</body>
    
</html>